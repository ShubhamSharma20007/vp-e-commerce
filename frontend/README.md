handle the allProduct need to pass dependency injection
